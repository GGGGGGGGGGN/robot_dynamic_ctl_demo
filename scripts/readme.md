# 控制器算法
## pd test
目标是各个关节独立的pd控制器让机械臂稳定在一个位姿上，由于pd算法的原理是根据误差产生力矩，因此为了平衡重力，机械臂无法稳定的达到设置的位姿上。

## ctc test
更加常用的pd控制器是重力补偿的pd控制器，该控制器在pd算的力矩上添加上了维持机械臂重力的补偿项，因此可以稳定收敛在目标的位姿上。
但是在快速运动的场景，pd控制器存在跟踪滞后和超调的问题。
如果有理想的模型，可以使用ctc的控制算法，计算关节误差和速度误差，计算一个控制加速的，并输入给动力学方程中。这个控制算法将非线性的系统线性化，并且可以证明稳定和收敛，但在这个代码中，跟踪效果并非完全理想。

## ctc with friction
在ctc算法中，他的输入量是一个加速度，而非力矩，在模型理想时效果很好，但是如果存在模型失配的问题，控制效果可能还不如pd控制器。
为了解决这个问题，一般需要更加准确的模型参数。在pin导入的模型中，按照mujoco的模型文件，添加了转子的惯量和摩擦力补偿项，实现了一个非常理想的关节控制。从结果可以看到控制效果远好过pd控制器。

